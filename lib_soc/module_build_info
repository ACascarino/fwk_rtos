VERSION = 0.5.0

DEPENDENT_MODULES = lib_rtos_support \
                    lib_otpinfo      \
                    lib_ethernet     \
                    lib_random       \
                    lib_mic_array    \
                    lib_i2c          \
                    lib_i2s          \
                    lib_sdram

MODULE_XCC_FLAGS = $(XCC_FLAGS) -Os

OPTIONAL_HEADERS += soc_conf.h
OPTIONAL_HEADERS += rtos_peripherals_conf.h

SOURCE_DIRS = src/framework                                     \
              src/peripherals/bitstream/ethernet_dev            \
              src/peripherals/bitstream/gpio_dev                \
              src/peripherals/bitstream/i2c_dev                 \
              src/peripherals/bitstream/i2s_dev                 \
              src/peripherals/bitstream/micarray_dev            \
              src/peripherals/bitstream/sdram_dev               \
              src/peripherals/bitstream/spi_master_dev          \
              src/peripherals/bitstream/spi_master_dev/spi_fast \
              src/peripherals/bsp/common                        \
              src/peripherals/bsp/common/freertos               \
              src/peripherals/bsp/ethernet_driver               \
              src/peripherals/bsp/gpio_driver                   \
              src/peripherals/bsp/i2c_driver                    \
              src/peripherals/bsp/i2s_driver                    \
              src/peripherals/bsp/micarray_driver               \
              src/peripherals/bsp/sdram_driver                  \
              src/peripherals/bsp/spi_master_driver             \
              src/peripherals/bsp/wf200_driver/freertos

INCLUDE_DIRS := $(SOURCE_DIRS)

##### Include the Silicon Labs WFX200 Full MAC Driver #####

WFX200_LOC = src/peripherals/bsp/wf200_driver/thirdparty/wfx-fullMAC-driver/wfx_fmac_driver
WFX200_DRIVER_SRC = $(WFX200_LOC)             \
                    $(WFX200_LOC)/bus         \
                    $(WFX200_LOC)/secure_link

WFX200_DRIVER_INC = $(WFX200_LOC)                \
                    $(WFX200_LOC)/firmware/3.3.1

WFX200_DRIVER_FLAGS = -USL_WFX_USE_SECURE_LINK

# Only support the SPI bus
EXCLUDE_FILES += $(WFX200_LOC)/bus/sl_wfx_bus_sdio.c

SOURCE_DIRS += $(WFX200_DRIVER_SRC)
INCLUDE_DIRS += $(WFX200_DRIVER_INC)
MODULE_XCC_FLAGS += $(WFX200_DRIVER_FLAGS)

###########



